<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ART Framework v0.2.4 - Implementation Task Checklist</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Color Palette (Inspired by ART Docs) */
            --primary: #4F46E5; --primary-light: #EEF2FF; --primary-dark: #3730A3;
            --secondary: #6366F1;
            --success: #10B981; --success-light: #ECFDF5;
            --warning: #F59E0B; --warning-light: #FFFBEB;
            --danger: #EF4444; --danger-light: #FEF2F2;
            --info: #3B82F6; --info-light: #EFF6FF;

            --text-primary: #1F2937; --text-secondary: #4B5563; --text-tertiary: #6B7280;
            --bg-white: #FFFFFF; --bg-light: #F9FAFB; --bg-lighter: #F3F4F6;
            --border-light: #E5E7EB; --border-medium: #D1D5DB;

            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);

            --radius-sm: 0.25rem; --radius-md: 0.375rem; --radius-lg: 0.5rem; --radius-xl: 0.75rem;
            --spacing-1: 0.25rem; --spacing-2: 0.5rem; --spacing-3: 0.75rem; --spacing-4: 1rem;
            --spacing-5: 1.25rem; --spacing-6: 1.5rem; --spacing-8: 2rem; --spacing-10: 2.5rem;
        }

        /* Base & Reset Styles */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-lighter);
            color: var(--text-primary);
            line-height: 1.65;
            padding: var(--spacing-6);
            font-size: 15px;
        }

        /* Layout & Container */
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background-color: var(--bg-white);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-lg);
            padding: var(--spacing-8);
            position: relative;
        }
        .container::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0;
            height: 6px;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            border-radius: var(--radius-xl) var(--radius-xl) 0 0;
        }

        /* Header & Navigation */
        header { text-align: center; margin-bottom: var(--spacing-8); }
        h1 {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary-dark);
            margin-bottom: var(--spacing-2);
        }
        header p {
            font-size: 1.1rem;
            color: var(--text-secondary);
            margin-bottom: var(--spacing-6);
        }
        nav {
            background-color: var(--primary-light);
            padding: var(--spacing-4);
            border-radius: var(--radius-lg);
            margin-bottom: var(--spacing-8);
            box-shadow: var(--shadow-sm);
        }
        nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: var(--spacing-4);
        }
        nav a {
            text-decoration: none;
            color: var(--primary-dark);
            font-weight: 600;
            padding: var(--spacing-2) var(--spacing-4);
            border-radius: var(--radius-md);
            transition: background-color 0.2s ease, color 0.2s ease;
            border: 1px solid transparent;
            font-size: 0.9rem;
        }
        nav a:hover {
            background-color: var(--bg-white);
            border-color: var(--primary);
            color: var(--primary);
            box-shadow: var(--shadow-sm);
        }

        /* Checklist Structure */
        main { margin-top: var(--spacing-8); }
        .phase {
            margin-bottom: var(--spacing-8);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-lg);
            overflow: hidden; /* Ensures children respect border radius */
            background-color: var(--bg-white);
            box-shadow: var(--shadow-md);
        }

        .phase-header {
            background-color: var(--bg-light);
            padding: var(--spacing-4) var(--spacing-6);
            border-bottom: 1px solid var(--border-light);
            cursor: pointer; /* Indicate collapsibility */
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .phase-header h2 {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--text-primary);
            margin: 0;
        }
        .phase-header .complexity-tag { margin-left: auto; } /* Push tag to the right */

        .phase-content {
            padding: var(--spacing-6);
        }

        /* Task List Styling */
        .task-list {
            list-style: none;
            padding-left: 0; /* Reset default padding */
        }
        .task-item {
            padding: var(--spacing-3) 0;
            border-bottom: 1px dashed var(--border-medium);
            position: relative; /* For checkbox positioning */
            display: flex; /* Align checkbox and label */
            align-items: flex-start; /* Align checkbox with first line of text */
            gap: var(--spacing-3);
        }
        .task-item:last-child { border-bottom: none; }

        /* Custom Checkbox */
        .task-item input[type="checkbox"] {
            appearance: none; /* Remove default */
            -webkit-appearance: none;
            -moz-appearance: none;
            width: 18px;
            height: 18px;
            border: 2px solid var(--border-medium);
            border-radius: var(--radius-sm);
            cursor: pointer;
            position: relative;
            top: 2px; /* Align better with text */
            flex-shrink: 0; /* Prevent shrinking */
            background-color: var(--bg-white);
            transition: background-color 0.15s ease-in-out, border-color 0.15s ease-in-out;
        }
        .task-item input[type="checkbox"]:hover {
             border-color: var(--primary);
        }
        .task-item input[type="checkbox"]:checked {
            background-color: var(--primary);
            border-color: var(--primary);
        }
        .task-item input[type="checkbox"]:checked::after {
            content: '✔'; /* Checkmark */
            font-size: 12px;
            color: white;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-weight: bold;
        }

        .task-label {
            flex-grow: 1; /* Take remaining space */
            cursor: pointer; /* Make label clickable for checkbox */
            color: var(--text-secondary);
            font-size: 0.98rem;
        }
        .task-label strong { /* Task ID */
            font-weight: 600;
            color: var(--text-primary);
            margin-right: var(--spacing-2);
        }
        .task-item input[type="checkbox"]:checked + .task-label {
            text-decoration: line-through;
            color: var(--text-tertiary);
        }
        .task-item input[type="checkbox"]:checked + .task-label strong {
             color: var(--text-tertiary);
        }


        /* Sub-tasks */
        .sub-task-list {
            list-style: none;
            padding-left: calc(18px + var(--spacing-3)); /* Indent based on checkbox width + gap */
            margin-top: var(--spacing-3);
        }
        .sub-task-item {
             padding: var(--spacing-2) 0;
             border-top: 1px dotted var(--border-light);
             display: flex;
             align-items: flex-start;
             gap: var(--spacing-3);
             font-size: 0.9rem;
        }
         .sub-task-item:first-child { border-top: none; }
         .sub-task-item input[type="checkbox"] {
             width: 16px;
             height: 16px;
             top: 1px;
         }
         .sub-task-item input[type="checkbox"]:checked::after {
             font-size: 10px;
         }

        /* Metadata Tags */
        .tag {
            display: inline-block;
            padding: var(--spacing-1) var(--spacing-2);
            border-radius: var(--radius-sm);
            font-size: 0.75rem;
            font-weight: 600;
            margin-left: var(--spacing-2);
            line-height: 1;
            vertical-align: middle;
        }
        .complexity-tag {
            background-color: var(--info-light);
            color: var(--info);
            border: 1px solid var(--info);
        }
        .dependency-tag {
            background-color: var(--warning-light);
            color: var(--warning);
            border: 1px solid var(--warning);
            margin-top: var(--spacing-1); /* Ensure it wraps nicely */
            display: inline-block; /* Allow margin-top */
        }
        .task-metadata {
             margin-top: var(--spacing-1); /* Space between task text and tags */
             display: block; /* Ensure tags appear below */
        }
        .phase-header .complexity-tag {
             font-size: 0.8rem;
             padding: var(--spacing-1) var(--spacing-3);
        }

        /* Details/Summary for Collapsible Sections */
        details > summary { list-style: none; } /* Hide default marker */
        details > summary::-webkit-details-marker { display: none; } /* Hide default marker for Safari */
        .phase-header::after { /* Custom marker */
            content: '▼';
            font-size: 0.8em;
            margin-left: var(--spacing-2);
            color: var(--text-tertiary);
            transition: transform 0.2s ease-out;
        }
        details[open] > .phase-header::after {
            transform: rotate(180deg);
        }

        /* Responsive */
        @media (max-width: 768px) {
            body { padding: var(--spacing-4); }
            .container { padding: var(--spacing-5); }
            h1 { font-size: 1.75rem; }
            header p { font-size: 1rem; }
            nav ul { gap: var(--spacing-2); }
            nav a { padding: var(--spacing-2) var(--spacing-3); }
            .phase-header h2 { font-size: 1.15rem; }
            .phase-header { padding: var(--spacing-3) var(--spacing-4); }
            .phase-content { padding: var(--spacing-4); }
            .task-label { font-size: 0.95rem; }
            .sub-task-item { font-size: 0.85rem; }
        }

    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ART Framework v0.2.4</h1>
            <p>Implementation Task Checklist</p>
        </header>

        <nav>
            <ul>
                <li><a href="./ART-Framework-v0.2.4.html" title="Framework Overview">Framework Overview</a></li>
                <li><a href="./ART-Execution-Flow-v0.2.4.html" title="Detailed Execution Flow">Execution Flow</a></li>
                <li><a href="./ART-Framework-PRD-v0.2.4.html" title="Product Requirements Document">PRD</a></li>
                <li><a href="./ART-Framework-Feature-Roadmap-v0.2.4.html" title="Future Feature Roadmap">Roadmap</a></li>
            </ul>
        </nav>

        <main>
        <!-- Phase 0: Setup & Foundation (Revised for Library Build) -->
        <details class="phase" open>
            <summary class="phase-header">
                <h2>Phase 0: Setup & Foundation (Library Build)</h2>
                <span class="complexity-tag tag">Complexity: Medium</span> <!-- Increased slightly due to build config -->
            </summary>
            <div class="phase-content">
                <ul class="task-list">
                    <li class="task-item">
                        <input type="checkbox" id="task-0.1"><label for="task-0.1" class="task-label"><strong>0.1:</strong> Initialize project repository (Git).</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="task-0.2"><label for="task-0.2" class="task-label"><strong>0.2:</strong> Setup `package.json` for library distribution (name, version, main, module, types, exports, files, scripts, dependencies, devDependencies, peerDependencies if any).</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="task-0.3"><label for="task-0.3" class="task-label"><strong>0.3:</strong> Setup TypeScript project (`tsconfig.json`) configured for library builds (e.g., declaration: true, declarationMap: true, target: ESNext, module: ESNext, outDir).</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="task-0.4"><label for="task-0.4" class="task-label"><strong>0.4:</strong> Setup build toolchain for bundling the library (e.g., using `tsc` for type generation and potentially Rollup, esbuild, or tsup for bundling ESM/CJS outputs). Define build scripts in `package.json`.</label>
                        <ul class="sub-task-list">
                            <li class="sub-task-item"><input type="checkbox" id="task-0.4.1"><label for="task-0.4.1" class="task-label">Configure TypeScript compilation (`tsc`) for declaration files.</label></li>
                            <li class="sub-task-item"><input type="checkbox" id="task-0.4.2"><label for="task-0.4.2" class="task-label">Configure bundler (e.g., Rollup/tsup) for generating different module formats (ESM, CJS).</label></li>
                            <li class="sub-task-item"><input type="checkbox" id="task-0.4.3"><label for="task-0.4.3" class="task-label">Define `build` script in `package.json`.</label></li>
                        </ul>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="task-0.5"><label for="task-0.5" class="task-label"><strong>0.5:</strong> Setup testing framework (e.g., Vitest, Jest) and configuration suitable for library testing (unit/integration tests).</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="task-0.6"><label for="task-0.6" class="task-label"><strong>0.6:</strong> Setup linter (ESLint) and formatter (Prettier).</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="task-0.7"><label for="task-0.7" class="task-label"><strong>0.7:</strong> Define project structure (e.g., `src/core`, `src/systems/...`, `src/adapters/...`, `src/types`, `dist`).</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="task-0.8"><label for="task-0.8" class="task-label"><strong>0.8:</strong> Implement basic logging utility (consider making it configurable/injectable for consumers).</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="task-0.9"><label for="task-0.9" class="task-label"><strong>0.9:</strong> Implement UUID generation utility.</label>
                    </li>
                </ul>
            </div>
        </details>

            <!-- Phase 1: Core Interfaces & Data Models -->
            <details class="phase">
                <summary class="phase-header">
                    <h2>Phase 1: Core Interfaces & Data Models</h2>
                    <span class="complexity-tag tag">Complexity: Medium</span>
                </summary>
                <div class="phase-content">
                    <ul class="task-list">
                        <li class="task-item">
                             <input type="checkbox" id="task-1.1"><label for="task-1.1" class="task-label"><strong>1.1:</strong> Define core TypeScript types (`src/types`).</label>
                             <ul class="sub-task-list">
                                <li class="sub-task-item"><input type="checkbox" id="task-1.1.1"><label for="task-1.1.1" class="task-label">ConversationMessage, MessageRole</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-1.1.2"><label for="task-1.1.2" class="task-label">Observation, ObservationType</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-1.1.3"><label for="task-1.1.3" class="task-label">ToolSchema, ToolResult, ParsedToolCall</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-1.1.4"><label for="task-1.1.4" class="task-label">ThreadConfig, AgentState, ThreadContext</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-1.1.5"><label for="task-1.1.5" class="task-label">AgentProps, AgentFinalResponse, ExecutionMetadata</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-1.1.6"><label for="task-1.1.6" class="task-label">ExecutionContext, CallOptions, FormattedPrompt</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-1.1.7"><label for="task-1.1.7" class="task-label">FilterOptions, MessageOptions, ObservationFilter</label></li>
                             </ul>
                        </li>
                         <li class="task-item">
                             <input type="checkbox" id="task-1.2"><label for="task-1.2" class="task-label"><strong>1.2:</strong> Define core system interfaces (`src/core` or `src/systems/.../interfaces.ts`).</label>
                             <ul class="sub-task-list">
                                <li class="sub-task-item"><input type="checkbox" id="task-1.2.1"><label for="task-1.2.1" class="task-label">IAgentCore</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-1.2.2"><label for="task-1.2.2" class="task-label">ReasoningEngine, PromptManager, OutputParser, ProviderAdapter</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-1.2.3"><label for="task-1.2.3" class="task-label">IToolExecutor, ToolRegistry, ToolSystem</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-1.2.4"><label for="task-1.2.4" class="task-label">StateManager, ConversationManager</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-1.2.5"><label for="task-1.2.5" class="task-label">ObservationManager</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-1.2.6"><label for="task-1.2.6" class="task-label">TypedSocket, ObservationSocket, ConversationSocket, UISystem</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-1.2.7"><label for="task-1.2.7" class="task-label">StorageAdapter, Repository Interfaces</label></li>
                             </ul>
                        </li>
                    </ul>
                </div>
            </details>

             <!-- Phase 2: Foundational Systems - Storage & Base Context -->
            <details class="phase">
                <summary class="phase-header">
                    <h2>Phase 2: Foundational Systems - Storage & Base Context</h2>
                    <span class="complexity-tag tag">Complexity: Medium-High</span>
                </summary>
                <div class="phase-content">
                     <div class="task-metadata"><span class="dependency-tag tag">Depends on: Phase 1</span></div>
                    <ul class="task-list">
                        <li class="task-item">
                            <input type="checkbox" id="task-2.1"><label for="task-2.1" class="task-label"><strong>2.1:</strong> Storage System (SS)</label>
                            <ul class="sub-task-list">
                                <li class="sub-task-item"><input type="checkbox" id="task-2.1.1"><label for="task-2.1.1" class="task-label">Implement `InMemoryStorageAdapter`.</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-2.1.2"><label for="task-2.1.2" class="task-label">Unit tests for `InMemoryStorageAdapter`.</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-2.1.3"><label for="task-2.1.3" class="task-label">Implement `IndexedDBStorageAdapter`.</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-2.1.4"><label for="task-2.1.4" class="task-label">Integration tests for `IndexedDBStorageAdapter`.</label></li>
                            </ul>
                        </li>
                         <li class="task-item">
                            <input type="checkbox" id="task-2.2"><label for="task-2.2" class="task-label"><strong>2.2:</strong> Context System (CS) - Repositories <span class="dependency-tag tag">Depends on: 2.1</span></label>
                            <ul class="sub-task-list">
                                <li class="sub-task-item"><input type="checkbox" id="task-2.2.1"><label for="task-2.2.1" class="task-label">Implement `ConversationRepository`.</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-2.2.2"><label for="task-2.2.2" class="task-label">Unit tests for `ConversationRepository`.</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-2.2.3"><label for="task-2.2.3" class="task-label">Implement `ObservationRepository`.</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-2.2.4"><label for="task-2.2.4" class="task-label">Unit tests for `ObservationRepository`.</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-2.2.5"><label for="task-2.2.5" class="task-label">Implement `StateRepository`.</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-2.2.6"><label for="task-2.2.6" class="task-label">Unit tests for `StateRepository`.</label></li>
                            </ul>
                        </li>
                         <li class="task-item">
                            <input type="checkbox" id="task-2.3"><label for="task-2.3" class="task-label"><strong>2.3:</strong> Context System (CS) - Managers <span class="dependency-tag tag">Depends on: 2.2</span></label>
                             <ul class="sub-task-list">
                                <li class="sub-task-item"><input type="checkbox" id="task-2.3.1"><label for="task-2.3.1" class="task-label">Implement `ConversationManager`.</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-2.3.2"><label for="task-2.3.2" class="task-label">Unit tests for `ConversationManager`.</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-2.3.3"><label for="task-2.3.3" class="task-label">Implement `StateManager`.</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-2.3.4"><label for="task-2.3.4" class="task-label">Unit tests for `StateManager`.</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-2.3.5"><label for="task-2.3.5" class="task-label">Implement basic `ContextProvider`.</label></li>
                             </ul>
                        </li>
                    </ul>
                </div>
            </details>

            <!-- Phase 3: Core Logic Systems - Reasoning & Tool -->
            <details class="phase">
                 <summary class="phase-header">
                    <h2>Phase 3: Core Logic Systems - Reasoning & Tool</h2>
                    <span class="complexity-tag tag">Complexity: High</span>
                </summary>
                <div class="phase-content">
                    <div class="task-metadata"><span class="dependency-tag tag">Depends on: Phase 1</span></div>
                     <ul class="task-list">
                        <li class="task-item">
                             <input type="checkbox" id="task-3.1"><label for="task-3.1" class="task-label"><strong>3.1:</strong> Reasoning System (RS)</label>
                             <ul class="sub-task-list">
                                <li class="sub-task-item"><input type="checkbox" id="task-3.1.1"><label for="task-3.1.1" class="task-label">Implement `PromptManager`.</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-3.1.2"><label for="task-3.1.2" class="task-label">Unit tests for `PromptManager`.</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-3.1.3"><label for="task-3.1.3" class="task-label">Implement `OutputParser`.</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-3.1.4"><label for="task-3.1.4" class="task-label">Unit tests for `OutputParser`.</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-3.1.5"><label for="task-3.1.5" class="task-label">Implement `OpenAIAdapter` (or similar).</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-3.1.6"><label for="task-3.1.6" class="task-label">Unit tests for `OpenAIAdapter`.</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-3.1.7"><label for="task-3.1.7" class="task-label">Implement `ReasoningEngine` core.</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-3.1.8"><label for="task-3.1.8" class="task-label">Unit tests for `ReasoningEngine`.</label></li>
                             </ul>
                        </li>
                         <li class="task-item">
                             <input type="checkbox" id="task-3.2"><label for="task-3.2" class="task-label"><strong>3.2:</strong> Tool System (TS) <span class="dependency-tag tag">Depends on: 2.3 (StateManager)</span></label>
                             <ul class="sub-task-list">
                                <li class="sub-task-item"><input type="checkbox" id="task-3.2.1"><label for="task-3.2.1" class="task-label">Implement `ToolRegistry`.</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-3.2.2"><label for="task-3.2.2" class="task-label">Unit tests for `ToolRegistry`.</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-3.2.3"><label for="task-3.2.3" class="task-label">Implement JSON Schema validation utility.</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-3.2.4"><label for="task-3.2.4" class="task-label">Implement `ToolSystem.executeTools` method.</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-3.2.5"><label for="task-3.2.5" class="task-label">Unit tests for `ToolSystem`.</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-3.2.6"><label for="task-3.2.6" class="task-label">Create example `CalculatorTool`.</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-3.2.7"><label for="task-3.2.7" class="task-label">Unit tests for `CalculatorTool`.</label></li>
                             </ul>
                        </li>
                    </ul>
                </div>
            </details>

            <!-- Phase 4: Orchestration & Observation -->
            <details class="phase">
                <summary class="phase-header">
                    <h2>Phase 4: Orchestration & Observation</h2>
                     <span class="complexity-tag tag">Complexity: High</span>
                </summary>
                 <div class="phase-content">
                    <div class="task-metadata"><span class="dependency-tag tag">Depends on: Phase 2 & 3</span></div>
                    <ul class="task-list">
                        <li class="task-item">
                             <input type="checkbox" id="task-4.1"><label for="task-4.1" class="task-label"><strong>4.1:</strong> Observation System (OS) <span class="dependency-tag tag">Depends on: 2.2.3</span></label>
                             <ul class="sub-task-list">
                                 <li class="sub-task-item"><input type="checkbox" id="task-4.1.1"><label for="task-4.1.1" class="task-label">Implement `ObservationManager.record`.</label></li>
                                 <li class="sub-task-item"><input type="checkbox" id="task-4.1.2"><label for="task-4.1.2" class="task-label">Implement `ObservationManager.getObservations`.</label></li>
                                 <li class="sub-task-item"><input type="checkbox" id="task-4.1.3"><label for="task-4.1.3" class="task-label">Unit tests for `ObservationManager`.</label></li>
                             </ul>
                        </li>
                         <li class="task-item">
                             <input type="checkbox" id="task-4.2"><label for="task-4.2" class="task-label"><strong>4.2:</strong> Agent Core (AC) - PES Implementation <span class="dependency-tag tag">Depends on: 4.1, Phase 2 & 3 Managers/Systems</span></label>
                             <ul class="sub-task-list">
                                 <li class="sub-task-item"><input type="checkbox" id="task-4.2.1"><label for="task-4.2.1" class="task-label">Implement `PESAgent.process` (6 stages).</label></li>
                                 <li class="sub-task-item"><input type="checkbox" id="task-4.2.2"><label for="task-4.2.2" class="task-label">Integrate calls to sub-systems.</label></li>
                                 <li class="sub-task-item"><input type="checkbox" id="task-4.2.3"><label for="task-4.2.3" class="task-label">Integrate `ObservationManager.record` calls.</label></li>
                                 <li class="sub-task-item"><input type="checkbox" id="task-4.2.4"><label for="task-4.2.4" class="task-label">Implement final message formatting/saving.</label></li>
                                 <li class="sub-task-item"><input type="checkbox" id="task-4.2.5"><label for="task-4.2.5" class="task-label">Implement final state saving.</label></li>
                                 <li class="sub-task-item"><input type="checkbox" id="task-4.2.6"><label for="task-4.2.6" class="task-label">Implement robust error handling & ERROR observations.</label></li>
                                 <li class="sub-task-item"><input type="checkbox" id="task-4.2.7"><label for="task-4.2.7" class="task-label">Integration tests for `PESAgent`.</label></li>
                             </ul>
                        </li>
                         <li class="task-item">
                             <input type="checkbox" id="task-4.3"><label for="task-4.3" class="task-label"><strong>4.3:</strong> Agent Factory</label>
                              <ul class="sub-task-list">
                                 <li class="sub-task-item"><input type="checkbox" id="task-4.3.1"><label for="task-4.3.1" class="task-label">Implement `AgentFactory` for dependency injection.</label></li>
                                 <li class="sub-task-item"><input type="checkbox" id="task-4.3.2"><label for="task-4.3.2" class="task-label">Unit tests for `AgentFactory`.</label></li>
                             </ul>
                        </li>
                    </ul>
                </div>
            </details>

            <!-- Phase 5: UI Integration -->
            <details class="phase">
                <summary class="phase-header">
                    <h2>Phase 5: UI Integration</h2>
                     <span class="complexity-tag tag">Complexity: Medium</span>
                </summary>
                <div class="phase-content">
                    <div class="task-metadata"><span class="dependency-tag tag">Depends on: Phase 1, 4.1, 2.3</span></div>
                    <ul class="task-list">
                        <li class="task-item">
                            <input type="checkbox" id="task-5.1"><label for="task-5.1" class="task-label"><strong>5.1:</strong> Implement `TypedSocket` base class/logic.</label>
                        </li>
                         <li class="task-item">
                            <input type="checkbox" id="task-5.2"><label for="task-5.2" class="task-label"><strong>5.2:</strong> Implement `ObservationSocket`.</label>
                        </li>
                         <li class="task-item">
                            <input type="checkbox" id="task-5.3"><label for="task-5.3" class="task-label"><strong>5.3:</strong> Implement `ConversationSocket`.</label>
                        </li>
                         <li class="task-item">
                            <input type="checkbox" id="task-5.4"><label for="task-5.4" class="task-label"><strong>5.4:</strong> Integrate `ObservationSocket.notify` in `ObservationManager`.</label>
                        </li>
                         <li class="task-item">
                            <input type="checkbox" id="task-5.5"><label for="task-5.5" class="task-label"><strong>5.5:</strong> Integrate `ConversationSocket.notify` in `ConversationManager` / `AgentCore`.</label>
                        </li>
                         <li class="task-item">
                            <input type="checkbox" id="task-5.6"><label for="task-5.6" class="task-label"><strong>5.6:</strong> Implement `UISystem` provider.</label>
                        </li>
                         <li class="task-item">
                            <input type="checkbox" id="task-5.7"><label for="task-5.7" class="task-label"><strong>5.7:</strong> Unit tests for Sockets and UISystem.</label>
                        </li>
                         <li class="task-item">
                            <input type="checkbox" id="task-5.8"><label for="task-5.8" class="task-label"><strong>5.8:</strong> Write basic JS examples for socket subscription.</label>
                        </li>
                    </ul>
                </div>
            </details>

             <!-- Phase 6: Integration, Testing, Documentation & Release Prep -->
            <details class="phase">
                 <summary class="phase-header">
                    <h2>Phase 6: Integration, Testing, Documentation & Release Prep</h2>
                     <span class="complexity-tag tag">Complexity: High</span>
                </summary>
                 <div class="phase-content">
                    <div class="task-metadata"><span class="dependency-tag tag">Depends on: All previous phases</span></div>
                     <ul class="task-list">
                        <li class="task-item">
                            <input type="checkbox" id="task-6.1"><label for="task-6.1" class="task-label"><strong>6.1:</strong> End-to-End (E2E) Testing</label>
                             <ul class="sub-task-list">
                                <li class="sub-task-item"><input type="checkbox" id="task-6.1.1"><label for="task-6.1.1" class="task-label">Setup E2E test environment (e.g., Playwright).</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-6.1.2"><label for="task-6.1.2" class="task-label">E2E test: PES flow w/ InMemoryStorage + mocks.</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-6.1.3"><label for="task-6.1.3" class="task-label">E2E test: PES flow w/ IndexedDBStorage in browser.</label></li>
                             </ul>
                        </li>
                        <li class="task-item">
                             <input type="checkbox" id="task-6.2"><label for="task-6.2" class="task-label"><strong>6.2:</strong> Documentation</label>
                             <ul class="sub-task-list">
                                <li class="sub-task-item"><input type="checkbox" id="task-6.2.1"><label for="task-6.2.1" class="task-label">Review & complete TSDoc comments.</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-6.2.2"><label for="task-6.2.2" class="task-label">Write conceptual docs (README, Architecture, Getting Started).</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-6.2.3"><label for="task-6.2.3" class="task-label">Create usage examples.</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-6.2.4"><label for="task-6.2.4" class="task-label">Generate API documentation.</label></li>
                             </ul>
                        </li>
                         <li class="task-item">
                            <input type="checkbox" id="task-6.3"><label for="task-6.3" class="task-label"><strong>6.3:</strong> Build & Packaging</label>
                            <ul class="sub-task-list">
                                <li class="sub-task-item"><input type="checkbox" id="task-6.3.1"><label for="task-6.3.1" class="task-label">Configure production build (minify, tree-shake).</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-6.3.2"><label for="task-6.3.2" class="task-label">Configure `package.json` for NPM.</label></li>
                            </ul>
                        </li>
                         <li class="task-item">
                            <input type="checkbox" id="task-6.4"><label for="task-6.4" class="task-label"><strong>6.4:</strong> Performance & Refinement</label>
                            <ul class="sub-task-list">
                                <li class="sub-task-item"><input type="checkbox" id="task-6.4.1"><label for="task-6.4.1" class="task-label">Basic performance profiling & optimization.</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-6.4.2"><label for="task-6.4.2" class="task-label">Code review and refactoring.</label></li>
                            </ul>
                        </li>
                         <li class="task-item">
                            <input type="checkbox" id="task-6.5"><label for="task-6.5" class="task-label"><strong>6.5:</strong> Release Checklist</label>
                             <ul class="sub-task-list">
                                <li class="sub-task-item"><input type="checkbox" id="task-6.5.1"><label for="task-6.5.1" class="task-label">All tests passing.</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-6.5.2"><label for="task-6.5.2" class="task-label">Documentation complete.</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-6.5.3"><label for="task-6.5.3" class="task-label">Build process verified.</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-6.5.4"><label for="task-6.5.4" class="task-label">Version bumped.</label></li>
                                <li class="sub-task-item"><input type="checkbox" id="task-6.5.5"><label for="task-6.5.5" class="task-label">(Optional) Publish to NPM.</label></li>
                             </ul>
                        </li>
                    </ul>
                </div>
            </details>

             <!-- Cross-Cutting Concerns -->
            <details class="phase">
                <summary class="phase-header">
                    <h2>Cross-Cutting Concerns (Ongoing)</h2>
                     <span class="complexity-tag tag">Complexity: Ongoing</span>
                </summary>
                 <div class="phase-content">
                    <ul class="task-list">
                         <li class="task-item">
                            <input type="checkbox" id="task-cc.1"><label for="task-cc.1" class="task-label">Implement consistent error handling.</label>
                        </li>
                         <li class="task-item">
                            <input type="checkbox" id="task-cc.2"><label for="task-cc.2" class="task-label">Integrate logging utility calls.</label>
                        </li>
                         <li class="task-item">
                            <input type="checkbox" id="task-cc.3"><label for="task-cc.3" class="task-label">Ensure TypeScript strict mode compliance.</label>
                        </li>
                         <li class="task-item">
                            <input type="checkbox" id="task-cc.4"><label for="task-cc.4" class="task-label">Continuously write/update unit & integration tests.</label>
                        </li>
                         <li class="task-item">
                            <input type="checkbox" id="task-cc.5"><label for="task-cc.5" class="task-label">Maintain code quality (linting, formatting).</label>
                        </li>
                         <li class="task-item">
                            <input type="checkbox" id="task-cc.6"><label for="task-cc.6" class="task-label">Identify and track technical debt.</label>
                        </li>
                    </ul>
                </div>
            </details>

        </main>
    </div>

    <!-- Optional: Simple JS for checkbox persistence or enhancements -->
    <!-- <script>
        // Example: Persist checkbox state in localStorage
        document.querySelectorAll('.task-item input[type="checkbox"], .sub-task-item input[type="checkbox"]').forEach(checkbox => {
            const storedState = localStorage.getItem(checkbox.id);
            if (storedState === 'true') {
                checkbox.checked = true;
            } else if (storedState === 'false') {
                checkbox.checked = false;
            } // else leave default

            checkbox.addEventListener('change', (event) => {
                localStorage.setItem(event.target.id, event.target.checked);
            });
        });
    </script> -->
</body>
</html>